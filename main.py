# рдлрд╛рдИрд▓рдЪреЗ рдирд╛рд╡: main.py
# рдХрд╛рдо: рдпреБрдЬрд░рдХрдбреВрди рдорд╛рд╣рд┐рддреА рдШреЗрдгреЗ рдЖрдгрд┐ 'show' рдХрдорд╛рдВрдб рд╣рд╛рддрд╛рд│рдгреЗ (The Manager)

import english_tutor
import progress_tracker


def start_program():
    print("\n" + "=" * 50)
    print("ЁЯЪА English Mastery System рд╕реБрд░реВ рдЭрд╛рд▓реА рдЖрд╣реЗ! ЁЯЪА")
    print("=" * 50)
    print("ЁЯТб рдЯреАрдк: рд╡рд╛рдХреНрдп рддрдкрд╛рд╕рд╛рдпрд▓рд╛ рдЯрд╛рдЗрдк рдХрд░рд╛, рдЬреБрдирд╛ рдЕрднреНрдпрд╛рд╕ рдмрдШрд╛рдпрд▓рд╛ 'show' рд▓рд┐рд╣рд╛ рдХрд┐рдВрд╡рд╛ 'exit' рдиреЗ рдмрд╛рд╣реЗрд░ рдкрдбрд╛.")

    while True:
        # рдпреБрдЬрд░рдХрдбреВрди рдЗрдирдкреБрдЯ рдШреЗрдгреЗ
        user_input = input("\nрд╡рд╛рдХреНрдп рдЯрд╛рдХрд╛ (рдХрд┐рдВрд╡рд╛ 'show' / 'exit' рд▓рд┐рд╣рд╛): ").strip().lower()

        # рез. рдмрд╛рд╣реЗрд░ рдкрдбрдгреНрдпрд╛рдЪреА рдХрдорд╛рдВрдб
        if user_input == 'exit':
            print("Bye! рдкреНрд░реЕрдХреНрдЯрд┐рд╕ рдЪрд╛рд▓реВ рдареЗрд╡ рдХреБрдгрд╛рд▓! ЁЯТ╗тЬи")
            break

        # реи. рд░рд┐рдкреЛрд░реНрдЯ рдмрдШрдгреНрдпрд╛рдЪреА рдирд╡реАрди рдХрдорд╛рдВрдб (SHOW)
        elif user_input == 'show':
            progress_tracker.show_my_progress()
            continue  # 'continue' рдореБрд│реЗ рдкреНрд░реЛрдЧреНрд░реЕрдо рдЦрд╛рд▓реА рди рдЬрд╛рддрд╛, рдкреБрдиреНрд╣рд╛ рд╡рд░рддреА рдирд╡реАрди рдЗрдирдкреБрдЯ рдорд╛рдЧрд╛рдпрд▓рд╛ рдЬрд╛рддреЛ.

        # рей. рд╡рд╛рдХреНрдп рдЪреЗрдХ рдХрд░рдгреНрдпрд╛рдЪреА рдиреЗрд╣рдореАрдЪреА рдкреНрд░реЛрд╕реЗрд╕
        words = user_input.split()
        if len(words) < 2:
            print("тЭМ рдХреГрдкрдпрд╛ рдХрд┐рдорд╛рди рджреЛрди рд╢рдмреНрдж рдЯрд╛рдХрд╛ (рдЙрджрд╛. I am).")
            continue

        subject = words[0]
        verb = words[1]

        # english_tutor рдХрдбреВрди рд╡рд╛рдХреНрдп рдЪреЗрдХ рдХрд░реВрди рдШреЗрдгреЗ
        feedback = english_tutor.check_my_english(subject, verb)
        print(feedback)

        # рд╡рд╛рдХреНрдп рдмрд░реЛрдмрд░ рдЖрд▓реЗ рдХреА рдЪреВрдХ рддреЗ рдУрд│рдЦрдгреЗ
        is_correct = "тЬЕ" in feedback

        # progress_tracker рд▓рд╛ рдбреЗрдЯрд╛ рд╕реЗрд╡реНрд╣ рдХрд░рд╛рдпрд▓рд╛ рд╕рд╛рдВрдЧрдгреЗ
        progress_tracker.save_my_progress(user_input, is_correct, feedback)


# рдкреНрд░реЛрдЧреНрд░реЕрдо рдЗрдереЗ рд╕реБрд░реВ рд╣реЛрддреЛ!
start_program()