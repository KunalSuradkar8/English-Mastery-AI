import streamlit as st
import english_tutor  # рдЖрдкрд▓рд╛ рддреЛрдЪ рдЬреБрдирд╛ AI рдореЗрдВрджреВ!

# рез. рд╡реЗрдмрд╕рд╛рдИрдЯрдЪреА рдбрд┐рдЭрд╛рдИрди (UI)
st.set_page_config(page_title="AI English Tutor", page_icon="ЁЯОУ")
st.title("ЁЯЪА English Mastery AI Tutor")
st.write("рддреБрдЭрд╛ рд╡реИрдпрдХреНрддрд┐рдХ рдЗрдВрдЧреНрд░рдЬреА рд╢рд┐рдХреНрд╖рдХ рдЖрддрд╛ рдЗрдВрдЯрд░рдиреЗрдЯрд╡рд░!")

# реи. рдпреБрдЭрд░рдХрдбреВрди рд╡рд╛рдХреНрдп рдШреЗрдгреЗ (рдЗрдереЗ рдЖрдкрдг рд╕реВрдЪрдиреЗрдд Enter рджрд╛рдмрд╛рдпрд▓рд╛ рд╕рд╛рдВрдЧрдд рдЖрд╣реЛрдд)
user_input = st.text_input("ЁЯУЭ рддреБрдЭреЗ рдЗрдВрдЧреНрд░рдЬреА рд╡рд╛рдХреНрдп рдЗрдереЗ рдЯрд╛рдИрдк рдХрд░ рдЖрдгрд┐ Enter рджрд╛рдм:")

# рей. 'Check' рдмрдЯрди рдХрд╛рдвреВрди рдереЗрдЯ Enter рд╡рд░ рд░рд┐рдЭрд▓реНрдЯ рдЖрдгрдгреЗ
if user_input:  # рдЬреЗрд╡реНрд╣рд╛ рдпреБрдЭрд░ рдХрд╛рд╣реАрддрд░реА рд▓рд┐рд╣реВрди Enter рджрд╛рдмреЗрд▓ рддреЗрд╡реНрд╣рд╛рдЪ рд╣реЗ рд░рди рд╣реЛрдИрд▓
    with st.spinner("AI рд╡рд┐рдЪрд╛рд░ рдХрд░рдд рдЖрд╣реЗ... ЁЯза"):
        # рдЖрдкрд▓рд╛ рдкрд╛рдпрдердирдЪрд╛ рдореЗрдВрджреВ рдЗрдереЗ рдХрд╛рдо рдХрд░реЗрд▓
        is_correct, feedback = english_tutor.check_full_sentence(user_input)

        # рек. рд░рд┐рдЭрд▓реНрдЯ рджрд╛рдЦрд╡рдгреЗ
        st.divider()
        if is_correct:
            st.success("ЁЯОЙ рдПрдХрджрдо рдмрд░реЛрдмрд░!")
        else:
            st.error("рдЕрд░реЗрд░реЗ! рдХрд╛рд╣реА рдЪреБрдХрд╛ рд╕рд╛рдкрдбрд▓реНрдпрд╛.")

        st.write(feedback)